## Configuration RabbitMQ pour environnement production

# Niveau de log console (warning pour production)
log.console.level = warning

# Réseau
listeners.tcp.default = 5672

# Management plugin
management.tcp.port = 15672
management.tcp.ip = 0.0.0.0

# Clustering activé pour production
cluster_formation.peer_discovery_backend = k8s
cluster_formation.k8s.host = kubernetes.default.svc.cluster.local
cluster_formation.k8s.address_type = hostname
cluster_formation.k8s.hostname_suffix = .rabbitmq-headless
cluster_formation.k8s.service_name = rabbitmq-headless
cluster_formation.k8s.port = 25672

# Haute disponibilité - Politique pour toutes les queues
# Les queues seront répliquées sur tous les nodes avec synchronisation automatique
# Note: Les politiques HA sont configurées via rabbitmqctl, pas dans rabbitmq.conf
# Exemple: rabbitmqctl set_policy ha-all "^" '{"ha-mode":"all","ha-sync-mode":"automatic"}'

# Limites mémoire
vm_memory_high_watermark.relative = 0.4

# Performance
heartbeat = 60
frame_max = 131072
channel_max = 2047

# Sécurité - Guest désactivé en production
loopback_users.guest = false

# Persistance - Mode durable avec garanties maximales pour production
# Les messages seront persistés avec toutes les garanties
